{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      overlaylong: 'overlaylong',\n      overlaytitle: 'overlaytitle',\n      disfiex: 0,\n      loginData: {\n        username: '',\n        password: ''\n      },\n      liveData: {\n        username: '',\n        password: '',\n        phone: ''\n      }\n    };\n  },\n  methods: {\n    login() {\n      axios({\n        url: '/api/user/user/login',\n        method: 'get',\n        params: {\n          // data表示通过请求体传参\n          loginDTO: this.loginData\n        }\n      }).then(res => {\n        // 成功回调函数\n        if (res.data.code == 1) {\n          // 登录成功\n          console.log(res.data.data.token);\n          this.$message(\"登录成功\");\n          this.$store.dispatch('userLogin', res.data.data);\n          this.$router.push({\n            path: '/user'\n          });\n        } else {\n          console.log(res.data.msg);\n          this.$message(res.data.msg);\n        }\n      });\n    },\n    live() {\n      axios({\n        url: '/api/user/user/qualification',\n        method: 'get',\n        params: {\n          // data表示通过请求体传参\n          username: this.liveData.username,\n          password: this.liveData.password,\n          phone: this.liveData.phone\n        }\n      }).then(res => {\n        // 成功回调函数再发请求\n        if (res.data.code == 1) {\n          // 资格校验成功,再发注册请求\n          axios({\n            url: '/api/user/user/signUp',\n            method: 'post',\n            data: this.liveData\n          }).then(res => {\n            // 成功回调函数\n            if (res.data.code == 1) {\n              // 注册成功\n              this.$message(\"注册成功\");\n              this.Signup();\n            } else {\n              this.$message(res.data.msg);\n            }\n          });\n        } else {\n          this.$message(res.data.msg);\n        }\n      });\n    },\n    Signin() {\n      this.overlaylong = \"overlaylongleft\";\n      this.overlaytitle = \"overlaytitleright\";\n      setTimeout(() => {\n        this.disfiex = 1;\n      }, 200);\n    },\n    Signup() {\n      this.overlaylong = \"overlaylongright\";\n      this.overlaytitle = \"overlaytitleleft\";\n      setTimeout(() => {\n        this.disfiex = 0;\n      }, 200);\n    }\n  }\n};","map":{"version":3,"names":["axios","data","overlaylong","overlaytitle","disfiex","loginData","username","password","liveData","phone","methods","login","url","method","params","loginDTO","then","res","code","console","log","token","$message","$store","dispatch","$router","push","path","msg","live","Signup","Signin","setTimeout"],"sources":["src/views/user/login/login.vue"],"sourcesContent":["<style>\r\n\t.center {\r\n\t\twidth: 1920px;\r\n\t\theight: 1080px;\r\n\t\tbackground-image: url('@/assets/login.png');\r\n\t\tbackground-size: 100% 100%;\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tflex-direction: column;\r\n\t}\r\n \r\n\th1 {\r\n\t\tfont-size: 30px;\r\n\t\tcolor: black;\r\n\t}\r\n \r\n\t.logon {\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 10px;\r\n\t\tbox-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\r\n\t\t/* position: relative;\r\n\t\toverflow: hidden; */\r\n\t\twidth: 768px;\r\n\t\tmax-width: 100%;\r\n\t\tmin-height: 480px;\r\n\t\tmargin-top: 20px;\r\n\t\tdisplay: flex;\r\n\t\tbackground: -webkit-linear-gradient(right, #4284db, #29eac4);\r\n\t}\r\n \r\n\t.overlaylong {\r\n\t\tborder-radius: 10px 0 0 10px;\r\n\t\twidth: 50%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #fff;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n \r\n\t.overlaylongleft {\r\n\t\tborder-radius: 0px 10px 10px 0px;\r\n\t\twidth: 50%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #fff;\r\n\t\ttransform: translateX(100%);\r\n\t\ttransition: transform 0.6s ease-in-out;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n \r\n\t.overlaylongright {\r\n\t\tborder-radius: 10px 0 0 10px;\r\n\t\twidth: 50%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #fff;\r\n\t\ttransform: translateX(0%);\r\n\t\ttransition: transform 0.6s ease-in-out;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n \r\n\t.overlaytitle {\r\n\t\tborder-radius: 0px 10px 10px 0px;\r\n\t\twidth: 50%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: rgba(0, 0, 0, 0);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n \r\n \r\n\t.overlaytitleH2 {\r\n\t\tfont-size: 30px;\r\n\t\tcolor: #fff;\r\n\t\tmargin-top: 20px;\r\n\t}\r\n \r\n\t.overlaytitleP {\r\n\t\tfont-size: 15px;\r\n\t\tcolor: #fff;\r\n\t\tmargin-top: 20px;\r\n\t}\r\n \r\n\t.overlaytitleleft {\r\n\t\tborder-radius: 0px 10px 10px 0px;\r\n\t\twidth: 50%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: rgba(0, 0, 0, 0);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\ttransform: translateX(0%);\r\n\t\ttransition: transform 0.6s ease-in-out;\r\n\t}\r\n \r\n\t.overlaytitleright {\r\n\t\tborder-radius: 0px 10px 10px 0px;\r\n\t\twidth: 50%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: rgba(0, 0, 0, 0);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\ttransform: translateX(-100%);\r\n\t\ttransition: transform 0.6s ease-in-out;\r\n\t}\r\n \r\n\t.overlaytitle-Signin {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tflex-direction: column;\r\n\t}\r\n \r\n\t.overlaytitle-Signup {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tflex-direction: column;\r\n\t}\r\n \r\n\t.buttongohs {\r\n\t\twidth: 180px;\r\n\t\theight: 40px;\r\n\t\tborder-radius: 50px;\r\n\t\tborder: 1px solid #fff;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 15px;\r\n\t\ttext-align: center;\r\n\t\tline-height: 40px;\r\n\t\tmargin-top: 40px;\r\n\t}\r\n \r\n\t.overlaylongH2 {\r\n\t\tfont-size: 25px;\r\n\t\tcolor: black;\r\n\t\t/* width: 250px; */\r\n\t}\r\n \r\n\t.overlaylong-Signin {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tflex-direction: column;\r\n\t}\r\n \r\n\t.overlaylong-Signup {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tflex-direction: column;\r\n\t}\r\n \r\n\tinput {\r\n\t\tbackground-color: #eee;\r\n\t\tborder: none;\r\n\t\tpadding: 12px 15px;\r\n\t\tmargin: 10px 0;\r\n\t\twidth: 240px;\r\n\t}\r\n\th3{\r\n\t\tfont-size: 10px;\r\n\t\tmargin-top: 10px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.inupbutton{\r\n\t\tbackground-color: #29eac4;\r\n\t\tborder: none;\r\n\t\twidth: 180px;\r\n\t\theight: 40px;\r\n\t\tborder-radius: 50px;\r\n\t\tfont-size: 15px;\r\n\t\tcolor: #fff;\t\r\n\t\ttext-align: center;\r\n\t\tline-height: 40px;\r\n\t\tmargin-top: 30px;\r\n\t}\r\n</style>\r\n \r\n<template>\r\n\t<div class=\"center\">\r\n\t\t<h1>登录/注册</h1>\r\n\t\t<div class=\"logon\">\r\n\t\t\t<div :class=\"overlaylong\">\r\n\t\t\t\t<div class=\"overlaylong-Signin\" v-if=\"disfiex == 0\">\r\n\t\t\t\t\t<h2 class=\"overlaylongH2\">登录</h2>\r\n\t\t\t\t\t<input type=\"text\" v-model=\"loginData.username\" placeholder=\"账号\">\r\n\t\t\t\t\t<input type=\"password\" v-model=\"loginData.password\" placeholder=\"密码\">\r\n\t\t\t\t\t<!-- <h3>Forgot your password?</h3> -->\r\n\t\t\t\t\t<button class=\"inupbutton\" @click=\"login\">登录</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"overlaylong-Signup\" v-if=\"disfiex == 1\">\r\n\t\t\t\t\t<h2 class=\"overlaylongH2\">注册账号</h2>\r\n                    <input type=\"text\" v-model=\"liveData.phone\" placeholder=\"手机号\">\r\n\t\t\t\t\t<input type=\"text\" v-model=\"liveData.username\" placeholder=\"用户名\">\r\n\t\t\t\t\t<input type=\"password\" v-model=\"liveData.password\" placeholder=\"密码\">\r\n\t\t\t\t\t<button class=\"inupbutton\" @click=\"live\">注册</button>\r\n\t\t\t\t</div>\r\n \r\n\t\t\t</div>\r\n\t\t\t<div :class=\"overlaytitle\">\r\n\t\t\t\t<div class=\"overlaytitle-Signin\" v-if=\"disfiex == 0\">\r\n\t\t\t\t\t<h2 class=\"overlaytitleH2\">注册您的账号</h2>\r\n\t\t\t\t\t<p class=\"overlaytitleP\">\r\n\t\t\t\t\t\t只有被管理员录入系统的用户才能注册\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div class=\"buttongohs\" @click=\"Signin\">注册</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"overlaytitle-Signup\" v-if=\"disfiex == 1\">\r\n\t\t\t\t\t<h2 class=\"overlaytitleH2\">返回登录</h2>\r\n\t\t\t\t\t<p class=\"overlaytitleP\">已注册完毕请返回登录</p>\r\n\t\t\t\t\t<div class=\"buttongohs\" @click=\"Signup\">登录</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n \r\n\t</div>\r\n</template>\r\n \r\n<script>\r\nimport axios from 'axios'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\toverlaylong: 'overlaylong',\r\n\t\t\t\toverlaytitle: 'overlaytitle',\r\n\t\t\t\tdisfiex: 0,\r\n\t\t\t\tloginData: {\r\n\t\t\t\t\tusername: '',\r\n\t\t\t\t\tpassword: ''\r\n\t\t\t\t},\r\n\t\t\t\tliveData: {\r\n\t\t\t\t\tusername: '',\r\n\t\t\t\t\tpassword: '',\r\n\t\t\t\t\tphone: ''\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t\tlogin(){\r\n\t\t\t\taxios({\r\n\t\t\t\turl: '/api/user/user/login',\r\n\t\t\t\tmethod: 'get',\r\n\t\t\t\tparams: { // data表示通过请求体传参\r\n\t\t\t\t\tloginDTO: this.loginData\r\n\t\t\t\t}\r\n\t\t\t\t}).then(res => { // 成功回调函数\r\n\t\t\t\t\tif(res.data.code == 1){ // 登录成功\r\n\t\t\t\t\t\tconsole.log(res.data.data.token)\r\n\t\t\t\t\t\tthis.$message(\"登录成功\")\r\n\t\t\t\t\t\tthis.$store.dispatch('userLogin', res.data.data);\r\n\t\t\t\t\t\tthis.$router.push({path: '/user'});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(res.data.msg)\r\n\t\t\t\t\t\tthis.$message(res.data.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlive(){\r\n\t\t\t\taxios({\r\n\t\t\t\turl: '/api/user/user/qualification',\r\n\t\t\t\tmethod: 'get',\r\n\t\t\t\tparams: { // data表示通过请求体传参\r\n\t\t\t\t\tusername: this.liveData.username,\r\n\t\t\t\t\tpassword: this.liveData.password,\r\n\t\t\t\t\tphone: this.liveData.phone\r\n\t\t\t\t}\r\n\t\t\t\t}).then(res => { // 成功回调函数再发请求\r\n\t\t\t\t\tif(res.data.code == 1){ // 资格校验成功,再发注册请求\r\n\t\t\t\t\t\taxios({\r\n\t\t\t\t\t\t\turl: '/api/user/user/signUp',\r\n\t\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\t\tdata: this.liveData,\r\n\t\t\t\t\t\t\t}).then(res => { // 成功回调函数\r\n\t\t\t\t\t\t\t\tif(res.data.code == 1){ // 注册成功\r\n\t\t\t\t\t\t\t\t\tthis.$message(\"注册成功\");\r\n\t\t\t\t\t\t\t\t\tthis.Signup();\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.$message(res.data.msg);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$message(res.data.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\r\n\t\t\tSignin() {\r\n\t\t\t\tthis.overlaylong = \"overlaylongleft\"\r\n\t\t\t\tthis.overlaytitle = \"overlaytitleright\"\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.disfiex = 1\r\n\t\t\t\t}, 200)\r\n\t\t\t},\r\n\t\t\tSignup() {\r\n\t\t\t\tthis.overlaylong = \"overlaylongright\"\r\n\t\t\t\tthis.overlaytitle = \"overlaytitleleft\"\r\n \r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.disfiex = 0\r\n\t\t\t\t}, 200)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>"],"mappings":";AAkOA,OAAAA,KAAA;AACA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,YAAA;MACAC,OAAA;MACAC,SAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAC,QAAA;QACAF,QAAA;QACAC,QAAA;QACAE,KAAA;MACA;IAEA;EACA;EACAC,OAAA;IAEAC,MAAA;MACAX,KAAA;QACAY,GAAA;QACAC,MAAA;QACAC,MAAA;UAAA;UACAC,QAAA,OAAAV;QACA;MACA,GAAAW,IAAA,CAAAC,GAAA;QAAA;QACA,IAAAA,GAAA,CAAAhB,IAAA,CAAAiB,IAAA;UAAA;UACAC,OAAA,CAAAC,GAAA,CAAAH,GAAA,CAAAhB,IAAA,CAAAA,IAAA,CAAAoB,KAAA;UACA,KAAAC,QAAA;UACA,KAAAC,MAAA,CAAAC,QAAA,cAAAP,GAAA,CAAAhB,IAAA,CAAAA,IAAA;UACA,KAAAwB,OAAA,CAAAC,IAAA;YAAAC,IAAA;UAAA;QACA;UACAR,OAAA,CAAAC,GAAA,CAAAH,GAAA,CAAAhB,IAAA,CAAA2B,GAAA;UACA,KAAAN,QAAA,CAAAL,GAAA,CAAAhB,IAAA,CAAA2B,GAAA;QACA;MACA;IACA;IACAC,KAAA;MACA7B,KAAA;QACAY,GAAA;QACAC,MAAA;QACAC,MAAA;UAAA;UACAR,QAAA,OAAAE,QAAA,CAAAF,QAAA;UACAC,QAAA,OAAAC,QAAA,CAAAD,QAAA;UACAE,KAAA,OAAAD,QAAA,CAAAC;QACA;MACA,GAAAO,IAAA,CAAAC,GAAA;QAAA;QACA,IAAAA,GAAA,CAAAhB,IAAA,CAAAiB,IAAA;UAAA;UACAlB,KAAA;YACAY,GAAA;YACAC,MAAA;YACAZ,IAAA,OAAAO;UACA,GAAAQ,IAAA,CAAAC,GAAA;YAAA;YACA,IAAAA,GAAA,CAAAhB,IAAA,CAAAiB,IAAA;cAAA;cACA,KAAAI,QAAA;cACA,KAAAQ,MAAA;YACA;cACA,KAAAR,QAAA,CAAAL,GAAA,CAAAhB,IAAA,CAAA2B,GAAA;YACA;UACA;QACA;UACA,KAAAN,QAAA,CAAAL,GAAA,CAAAhB,IAAA,CAAA2B,GAAA;QACA;MACA;IACA;IAGAG,OAAA;MACA,KAAA7B,WAAA;MACA,KAAAC,YAAA;MACA6B,UAAA;QACA,KAAA5B,OAAA;MACA;IACA;IACA0B,OAAA;MACA,KAAA5B,WAAA;MACA,KAAAC,YAAA;MAEA6B,UAAA;QACA,KAAA5B,OAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}