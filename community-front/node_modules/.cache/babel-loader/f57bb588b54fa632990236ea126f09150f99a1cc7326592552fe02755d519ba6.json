{"ast":null,"code":"var listJson = {\n  list: [{\n    name: 'aa',\n    age: 12\n  }, {\n    name: 'bb',\n    age: 13\n  }, {\n    name: 'cc',\n    age: 14\n  }, {\n    name: 'ad',\n    age: 15\n  }, {\n    name: 'eaae',\n    age: 16\n  }, {\n    name: 'faaf',\n    age: 16\n  }, {\n    name: 'hah',\n    age: 17\n  }, {\n    name: 'ii',\n    age: 18\n  }, {\n    name: 'rar',\n    age: 19\n  }, {\n    name: 'dd',\n    age: 10\n  }]\n};\nexport default {\n  data() {\n    return {\n      list: [],\n      data: [],\n      limit: 5,\n      total: null,\n      page: 1,\n      searchData: \"\"\n    };\n  },\n  created() {\n    this.pageList();\n  },\n  methods: {\n    pageList() {\n      // 发请求拿到数据并暂存全部数据,方便之后操作\n      this.data = listJson.list;\n      this.getList();\n    },\n    // 处理数据\n    getList() {\n      // es6过滤得到满足搜索条件的展示数据list\n      let list = this.data.filter((item, index) => item.name.includes(this.searchData));\n      this.list = list.filter((item, index) => index < this.page * this.limit && index >= this.limit * (this.page - 1));\n      this.total = list.length;\n    },\n    // 当每页数量改变\n    handleSizeChange(val) {\n      console.log(`每页 ${val} 条`);\n      this.limit = val;\n      this.getList();\n    },\n    // 当当前页改变\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`);\n      this.page = val;\n      this.getList();\n    },\n    // 搜索过滤数据\n    search() {\n      this.page = 1;\n      this.getList();\n    }\n  }\n};","map":{"version":3,"names":["listJson","list","name","age","data","limit","total","page","searchData","created","pageList","methods","getList","filter","item","index","includes","length","handleSizeChange","val","console","log","handleCurrentChange","search"],"sources":["src/views/admin/user/user.vue"],"sourcesContent":["<template>\r\n  <div>\r\n      <el-row>\r\n          <el-col :span=\"2\">\r\n             <el-input v-model=\"searchData\"  placeholder=\"输入姓名搜索\"></el-input>\r\n          </el-col>\r\n          <el-col :span=\"2\">\r\n              <el-button type=\"success\" @click=\"search\">搜索</el-button>\r\n          </el-col>\r\n      </el-row>\r\n      <el-table :data=\"list\" height=\"400px\">\r\n          <el-table-column label=\"姓名\" prop=\"name\"></el-table-column>\r\n          <el-table-column label=\"年龄\" prop=\"age\"></el-table-column>\r\n      </el-table>\r\n      <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n          :current-page=\"page\" :page-sizes=\"[1, 2,5, 10]\" :page-size=\"limit\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n      </el-pagination>\r\n  </div>\r\n</template>\r\n<script>\r\n  var listJson = {\r\n      list: [\r\n          { name: 'aa', age: 12 },\r\n          { name: 'bb', age: 13 },\r\n          { name: 'cc', age: 14 },\r\n          { name: 'ad', age: 15 },\r\n          { name: 'eaae', age: 16 },\r\n          { name: 'faaf', age: 16 },\r\n          { name: 'hah', age: 17 },\r\n          { name: 'ii', age: 18 },\r\n          { name: 'rar', age: 19 },\r\n          { name: 'dd', age: 10 },\r\n      ]\r\n  }\r\n  export default {\r\n      data() {\r\n          return {\r\n              list: [],\r\n              data: [],\r\n              limit: 5,\r\n              total: null,\r\n              page: 1,\r\n              searchData: \"\",\r\n          }\r\n      },\r\n     created() {\r\n          this.pageList()\r\n      },\r\n      methods: {\r\n          pageList() {\r\n              // 发请求拿到数据并暂存全部数据,方便之后操作\r\n              this.data = listJson.list\r\n              this.getList()\r\n          },\r\n          // 处理数据\r\n          getList() {\r\n              // es6过滤得到满足搜索条件的展示数据list\r\n              let list = this.data.filter((item, index) =>\r\n                  item.name.includes(this.searchData)\r\n              )\r\n              this.list = list.filter((item, index) =>\r\n                  index < this.page * this.limit && index >= this.limit * (this.page - 1)\r\n              )\r\n              this.total = list.length\r\n          },\r\n          // 当每页数量改变\r\n          handleSizeChange(val) {\r\n              console.log(`每页 ${val} 条`);\r\n              this.limit = val\r\n              this.getList()\r\n          },\r\n          // 当当前页改变\r\n          handleCurrentChange(val) {\r\n              console.log(`当前页: ${val}`);\r\n              this.page = val\r\n              this.getList()\r\n          },\r\n          // 搜索过滤数据\r\n          search() {\r\n              this.page = 1\r\n              this.getList()\r\n          }\r\n      },\r\n  }\r\n</script>\r\n"],"mappings":"AAqBA,IAAAA,QAAA;EACAC,IAAA,GACA;IAAAC,IAAA;IAAAC,GAAA;EAAA,GACA;IAAAD,IAAA;IAAAC,GAAA;EAAA,GACA;IAAAD,IAAA;IAAAC,GAAA;EAAA,GACA;IAAAD,IAAA;IAAAC,GAAA;EAAA,GACA;IAAAD,IAAA;IAAAC,GAAA;EAAA,GACA;IAAAD,IAAA;IAAAC,GAAA;EAAA,GACA;IAAAD,IAAA;IAAAC,GAAA;EAAA,GACA;IAAAD,IAAA;IAAAC,GAAA;EAAA,GACA;IAAAD,IAAA;IAAAC,GAAA;EAAA,GACA;IAAAD,IAAA;IAAAC,GAAA;EAAA;AAEA;AACA;EACAC,KAAA;IACA;MACAH,IAAA;MACAG,IAAA;MACAC,KAAA;MACAC,KAAA;MACAC,IAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,QAAA;EACA;EACAC,OAAA;IACAD,SAAA;MACA;MACA,KAAAN,IAAA,GAAAJ,QAAA,CAAAC,IAAA;MACA,KAAAW,OAAA;IACA;IACA;IACAA,QAAA;MACA;MACA,IAAAX,IAAA,QAAAG,IAAA,CAAAS,MAAA,EAAAC,IAAA,EAAAC,KAAA,KACAD,IAAA,CAAAZ,IAAA,CAAAc,QAAA,MAAAR,UAAA,CACA;MACA,KAAAP,IAAA,GAAAA,IAAA,CAAAY,MAAA,EAAAC,IAAA,EAAAC,KAAA,KACAA,KAAA,QAAAR,IAAA,QAAAF,KAAA,IAAAU,KAAA,SAAAV,KAAA,SAAAE,IAAA,KACA;MACA,KAAAD,KAAA,GAAAL,IAAA,CAAAgB,MAAA;IACA;IACA;IACAC,iBAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,OAAAF,GAAA;MACA,KAAAd,KAAA,GAAAc,GAAA;MACA,KAAAP,OAAA;IACA;IACA;IACAU,oBAAAH,GAAA;MACAC,OAAA,CAAAC,GAAA,SAAAF,GAAA;MACA,KAAAZ,IAAA,GAAAY,GAAA;MACA,KAAAP,OAAA;IACA;IACA;IACAW,OAAA;MACA,KAAAhB,IAAA;MACA,KAAAK,OAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}